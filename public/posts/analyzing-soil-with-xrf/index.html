<!DOCTYPE html>
<html lang="en" dir="auto" data-theme="dark">

<head><script src="/livereload.js?mindelay=10&amp;v=2&amp;port=1313&amp;path=livereload" data-no-instant defer></script><meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<meta name="robots" content="noindex, nofollow">
<title>Analyzing soil with a XRF | morgan docs</title>
<meta name="keywords" content="">
<meta name="description" content="Warning: The XRF emits X-rays up to 50kV. Improper use can and will cause serious, long term harm to your health. Follow all safety protocols including those beyond this article.
Introduction
This article assumes you already are in possession of pucks of finely ground soil.
Procedure


Prepare the XRF Analyzer

Take the battery from the charger and insert it into the back of the XRF.

Note that a good amount of force is required to latch the battery into place.


Power on the XRF by holding the power button on the left of the front for about 3 seconds.
Wait for the system to boot.
Log into the device using the password.
The four directional buttons are used to select items on the interface.
The button to the right of the pad is the enter or confirm button, not a back button.
The center of the pad is not a button, which is incredibly unintuitive and confused me for an unbelievably long period of time.
From the main menu, select System Check to calibrate the scanner.



Connect the XRF to a Computer">
<meta name="author" content="">
<link rel="canonical" href="http://localhost:1313/posts/analyzing-soil-with-xrf/">
<link crossorigin="anonymous" href="/assets/css/stylesheet.dc9d8bc0b516382c12a77323c16a97d5f0e9be0bff6b463a8acbfbd83f95dcee.css" integrity="sha256-3J2LwLUWOCwSp3MjwWqX1fDpvgv/a0Y6isv72D&#43;V3O4=" rel="preload stylesheet" as="style">
<link rel="icon" href="http://localhost:1313/favicon.ico">
<link rel="icon" type="image/png" sizes="16x16" href="http://localhost:1313/favicon-16x16.png">
<link rel="icon" type="image/png" sizes="32x32" href="http://localhost:1313/favicon-32x32.png">
<link rel="apple-touch-icon" href="http://localhost:1313/apple-touch-icon.png">
<link rel="mask-icon" href="http://localhost:1313/safari-pinned-tab.svg">
<meta name="theme-color" content="#2e2e33">
<meta name="msapplication-TileColor" content="#2e2e33">
<link rel="alternate" hreflang="en" href="http://localhost:1313/posts/analyzing-soil-with-xrf/">
<noscript>
    <style>
        #theme-toggle,
        .top-link {
            display: none;
        }

    </style>
</noscript>
<script>
    if (localStorage.getItem("pref-theme") === "light") {
        document.querySelector("html").dataset.theme = 'light';
    }

</script>


<meta name="theme-color" content="#FAFAF8" media="(prefers-color-scheme: light)">
<meta name="theme-color" content="#1A1D1B" media="(prefers-color-scheme: dark)">


<meta name="color-scheme" content="light dark">


<script>
    MathJax = {
        tex: {
            inlineMath: [['$', '$'], ['\\(', '\\)']],
            displayMath: [['$$', '$$'], ['\\[', '\\]']],
            processEscapes: true
        },
        options: {
            skipHtmlTags: ['script', 'noscript', 'style', 'textarea', 'pre', 'code']
        }
    };
</script>
<script id="MathJax-script" async src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
</head>
<body id="top">
    <header class="header">
    <nav class="nav">
        <div class="logo">
            <a href="http://localhost:1313/" accesskey="h" title="morgan docs (Alt + H)">morgan docs</a>
            <div class="logo-switches">
                <button id="theme-toggle" accesskey="t" title="(Alt + T)" aria-label="Toggle theme">
                    <svg id="moon" xmlns="http://www.w3.org/2000/svg" width="24" height="18" viewBox="0 0 24 24"
                        fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"
                        stroke-linejoin="round">
                        <path d="M21 12.79A9 9 0 1 1 11.21 3 7 7 0 0 0 21 12.79z"></path>
                    </svg>
                    <svg id="sun" xmlns="http://www.w3.org/2000/svg" width="24" height="18" viewBox="0 0 24 24"
                        fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"
                        stroke-linejoin="round">
                        <circle cx="12" cy="12" r="5"></circle>
                        <line x1="12" y1="1" x2="12" y2="3"></line>
                        <line x1="12" y1="21" x2="12" y2="23"></line>
                        <line x1="4.22" y1="4.22" x2="5.64" y2="5.64"></line>
                        <line x1="18.36" y1="18.36" x2="19.78" y2="19.78"></line>
                        <line x1="1" y1="12" x2="3" y2="12"></line>
                        <line x1="21" y1="12" x2="23" y2="12"></line>
                        <line x1="4.22" y1="19.78" x2="5.64" y2="18.36"></line>
                        <line x1="18.36" y1="5.64" x2="19.78" y2="4.22"></line>
                    </svg>
                </button>
            </div>
        </div>
        <ul id="menu">
            <li>
                <a href="http://localhost:1313/search/" title="search (Alt &#43; /)" accesskey=/>
                    <span>search</span>
                </a>
            </li>
        </ul>
    </nav>
</header>
<main class="main">

<div class="post-wrapper">
        <aside class="toc-sidebar" id="toc-sidebar">
            <div class="toc-progress"><div class="toc-marker" data-target="#introduction" data-level="2"
                        data-title="Introduction"></div><div class="toc-marker" data-target="#procedure" data-level="2"
                        data-title="Procedure"></div></div>
            <div class="toc-current-label" id="toc-current-label"></div>
            <nav class="toc-nav" id="toc-nav">
                <div class="toc-title">Contents</div><ul>
                    <li>
                        <a href="#introduction" aria-label="Introduction">Introduction</a></li>
                    <li>
                        <a href="#procedure" aria-label="Procedure">Procedure</a>
                    </li>
                </ul>
            </nav>
        </aside>

        
        <div class="toc-mobile-bar" id="toc-mobile-bar">
            <button class="toc-mobile-toggle" id="toc-mobile-toggle">
                <span class="toc-mobile-label">
                    <span class="toc-mobile-parent" id="toc-mobile-parent"></span>
                    <span class="toc-mobile-current" id="toc-mobile-current">Contents</span>
                </span>
                <svg class="toc-mobile-chevron" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                    <path d="M6 9l6 6 6-6" />
                </svg>
            </button>
            <nav class="toc-mobile-nav" id="toc-mobile-nav">
                <ul><li class="toc-mobile-item level-2" data-level="2">
                            <a href="#introduction">Introduction</a>
                        </li><li class="toc-mobile-item level-2" data-level="2">
                            <a href="#procedure">Procedure</a>
                        </li></ul>
            </nav>
        </div>

        <article class="post-single">
            <header class="post-header">
                <div class="breadcrumbs"><a href="http://localhost:1313/">Home</a>&nbsp;»&nbsp;<a href="http://localhost:1313/posts/">Posts</a></div>
                <h1 class="post-title entry-hint-parent">
                    Analyzing soil with a XRF
                </h1>
                <div class="post-meta"><span title='2024-10-21 08:56:00 -0500 CDT'>October 21, 2024</span>&nbsp;·&nbsp;<span>3 min</span>&nbsp;|&nbsp;<span>
    <a href="https://github.com/mmorgans/docs/tree/main/content/posts/analyzing-soil-with-xrf.md" rel="noopener noreferrer edit" target="_blank">suggest changes</a>
</span>

</div>
            </header> 
            <div class="post-content"><p><strong>Warning</strong>: The XRF emits X-rays up to 50kV. Improper use can and will cause serious, long term harm to your health. Follow all safety protocols including those beyond this article.</p>
<h2 id="introduction">Introduction<a hidden class="anchor" aria-hidden="true" href="#introduction">#</a></h2>
<p>This article assumes you already are in possession of pucks of finely ground soil.</p>
<h2 id="procedure">Procedure<a hidden class="anchor" aria-hidden="true" href="#procedure">#</a></h2>
<ol>
<li>
<p><strong>Prepare the XRF Analyzer</strong></p>
<ul>
<li>Take the battery from the charger and insert it into the back of the XRF.
<ul>
<li>Note that a good amount of force is required to latch the battery into place.</li>
</ul>
</li>
<li>Power on the XRF by holding the power button on the left of the front for about 3 seconds.</li>
<li>Wait for the system to boot.</li>
<li>Log into the device using the password.</li>
<li>The four directional buttons are used to select items on the interface.</li>
<li>The button to the right of the pad is the enter or confirm button, not a back button.</li>
<li>The center of the pad is not a button, which is incredibly unintuitive and confused me for an unbelievably long period of time.</li>
<li>From the main menu, select <code>System Check</code> to calibrate the scanner.</li>
</ul>
</li>
<li>
<p><strong>Connect the XRF to a Computer</strong></p>
<ul>
<li>Open the <code>NDTr</code> software from the start menu on the desktop. It should automatically connect to the XRF and mirror the device’s screen on the computer.
<ul>
<li>If it doesn&rsquo;t, try some of the following.</li>
<li>The software should be the <em>only</em> XRF-related piece of software open. If something else is open trying to communicate with the scanner, it won&rsquo;t work.</li>
<li>The scanner should be communicating on COM6. To ensure this is the case or to change it:
<ul>
<li>Maximize the window with the window decoration controls (e.g. _ □ ☒)</li>
<li>Click the now visible settings button.</li>
<li>Change the COM port to 6.</li>
<li>If it still won&rsquo;t work, ensure that the XRF is actually communicating on COM6.
<ul>
<li>Open Device Manager (search in start menu), and under &ldquo;Universal Serial Bus&rdquo;, look for the scanner. Note the COM port.</li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
<li>
<p><strong>Prepare and Name the Samples</strong></p>
<ul>
<li>Slide the latch on the XRF stand to the right and open the lid.</li>
<li>Place your sample puck on the XRF with the film side facing down.</li>
<li>Close the lid and lock it by sliding the latch back to the right.</li>
<li>Navigate to the <code>Sample Type</code> menu and select <code>Soils and Minerals</code>, then choose <code>Soils</code>.</li>
<li>Navigate to <code>Data Entry</code>, and click the glyph of the keyboard to enter the sample&rsquo;s name.
<ul>
<li>Note that you can use the computer&rsquo;s keyboard to type.</li>
</ul>
</li>
</ul>
</li>
<li>
<p><strong>Perform the Scan</strong></p>
<ul>
<li>Ensure that the sample is centered on the sensor and that the lid is locked, then press and hold the trigger. The XRF will scan as long as you are holding the trigger, up to 10 seconds.
<ul>
<li>Ensure you hold the trigger for the same amount of time for all samples in a batch.</li>
<li>The longer the scan, the more accurate the results are, although scanning for more than 5 seconds is essentially redundant.</li>
</ul>
</li>
<li>After the scan completes, open the lid and remove the sample, placing it on the lab bench film-side up.
<ul>
<li>Note: placing the sample film side down can easily destroy the puck.</li>
</ul>
</li>
<li>Press the return key on the computer keyboard.</li>
<li>Enter a new sample name, and continue with the next sample.</li>
</ul>
</li>
<li>
<p><strong>Download the Data from the XRF</strong></p>
<ul>
<li>Once all samples have been scanned, click the <code>Disconnect</code> button on the computer and close the <code>NDTr</code> software.</li>
<li>Open the <code>NDT</code> software. The XRF should be connected to COM6.</li>
<li>Click <code>Test</code> to verify the connection. If successful, click <code>Query Readings</code> to retrieve the data from the XRF.</li>
<li>Scroll to the bottom of the readings list, select the samples you need, name the file, and click <code>Download</code> to save the data.</li>
<li>.ndt files can be opened in Excel or your text editor of choice.</li>
</ul>
</li>
</ol>


            </div>

            <footer class="post-footer">
                <ul class="post-tags">
                </ul>
            </footer>
        </article>
</div>

<script>
    document.addEventListener('DOMContentLoaded', function () {
        const sidebar = document.getElementById('toc-sidebar');
        const mobileBar = document.getElementById('toc-mobile-bar');
        const mobileToggle = document.getElementById('toc-mobile-toggle');
        const mobileNav = document.getElementById('toc-mobile-nav');
        const mobileCurrent = document.getElementById('toc-mobile-current');
        const mobileParent = document.getElementById('toc-mobile-parent');

        if (!sidebar && !mobileBar) return;

        const markers = sidebar ? sidebar.querySelectorAll('.toc-marker') : [];
        const tocLinks = sidebar ? sidebar.querySelectorAll('.toc-nav a') : [];
        const currentLabel = document.getElementById('toc-current-label');
        const mobileLinks = mobileBar ? mobileBar.querySelectorAll('.toc-mobile-item a') : [];
        const headings = [];

        
        if (markers.length > 0) {
            markers.forEach((marker, i) => {
                const id = marker.dataset.target.slice(1);
                const heading = document.getElementById(id);
                const title = marker.dataset.title;
                const level = parseInt(marker.dataset.level);
                if (heading) {
                    headings.push({ element: heading, marker: marker, link: tocLinks[i], title: title, level: level });
                }
            });
        } else if (mobileLinks.length > 0) {
            mobileLinks.forEach((link, i) => {
                const href = link.getAttribute('href');
                const id = href.slice(1);
                const heading = document.getElementById(id);
                const title = link.textContent.trim();
                const level = parseInt(link.closest('.toc-mobile-item').dataset.level);
                if (heading) {
                    headings.push({ element: heading, link: link, title: title, level: level });
                }
            });
        }

        
        if (mobileToggle) {
            mobileToggle.addEventListener('click', function () {
                mobileBar.classList.toggle('open');
            });
        }

        
        if (mobileNav) {
            mobileNav.addEventListener('click', function (e) {
                if (e.target.tagName === 'A') {
                    mobileBar.classList.remove('open');
                }
            });
        }

        function updateActiveState() {
            const scrollPos = window.scrollY + 150;
            let current = headings[0];
            let currentIndex = 0;

            for (let i = 0; i < headings.length; i++) {
                if (headings[i].element.offsetTop <= scrollPos) {
                    current = headings[i];
                    currentIndex = i;
                }
            }

            
            if (sidebar) {
                markers.forEach(m => m.classList.remove('active'));
                tocLinks.forEach(l => l.classList.remove('active'));

                if (current) {
                    if (current.marker) current.marker.classList.add('active');
                    if (current.link) current.link.classList.add('active');

                    if (currentLabel) {
                        
                        let breadcrumbs = [];
                        let targetLevel = current.level;

                        
                        for (let j = currentIndex - 1; j >= 0; j--) {
                            if (headings[j].level < targetLevel) {
                                breadcrumbs.unshift(headings[j].title);
                                targetLevel = headings[j].level;
                            }
                            if (targetLevel <= 2) break;
                        }

                        
                        let html = '';
                        if (breadcrumbs.length > 0) {
                            html += `<span class="toc-parent-label">${breadcrumbs.join(' › ')}</span>`;
                        }
                        html += `<span class="toc-child-label">${current.title}</span>`;
                        currentLabel.innerHTML = html;

                        const markerRect = current.marker.getBoundingClientRect();
                        const sidebarRect = sidebar.getBoundingClientRect();
                        currentLabel.style.top = (markerRect.top - sidebarRect.top + markerRect.height / 2 - (breadcrumbs.length > 0 ? 18 : 10)) + 'px';
                    }
                }
            }

            
            if (mobileBar && current) {
                
                if (scrollPos > 200) {
                    mobileBar.classList.add('visible');
                } else {
                    mobileBar.classList.remove('visible');
                    mobileBar.classList.remove('open');
                }

                
                let breadcrumbs = [];
                let targetLevel = current.level;
                for (let j = currentIndex - 1; j >= 0; j--) {
                    if (headings[j].level < targetLevel) {
                        breadcrumbs.unshift(headings[j].title);
                        targetLevel = headings[j].level;
                    }
                    if (targetLevel <= 2) break;
                }

                if (mobileCurrent) mobileCurrent.textContent = current.title;
                if (mobileParent) mobileParent.textContent = breadcrumbs.length > 0 ? breadcrumbs.join(' › ') : '';

                
                mobileLinks.forEach(l => l.classList.remove('active'));
                const activeLink = mobileBar.querySelector(`a[href="#${current.element.id}"]`);
                if (activeLink) activeLink.classList.add('active');
            }
        }

        window.addEventListener('scroll', updateActiveState);
        updateActiveState();
    });
</script>
    </main>
    
<footer class="footer">
    <span>&copy; 2026 </span> · 

    <span>
        Love from Kansas · Created with Emacs
    </span>
</footer>
<a href="#top" aria-label="go to top" title="Go to Top (Alt + G)" class="top-link" id="top-link" accesskey="g">
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 12 6" fill="currentColor">
        <path d="M12 6H0l6-6z" />
    </svg>
</a>

<script>
    let menu = document.getElementById('menu')
    if (menu) {
        menu.scrollLeft = localStorage.getItem("menu-scroll-position");
        menu.onscroll = function () {
            localStorage.setItem("menu-scroll-position", menu.scrollLeft);
        }
    }

    document.querySelectorAll('a[href^="#"]').forEach(anchor => {
        anchor.addEventListener("click", function (e) {
            e.preventDefault();
            var id = this.getAttribute("href").substr(1);
            if (!window.matchMedia('(prefers-reduced-motion: reduce)').matches) {
                document.querySelector(`[id='${decodeURIComponent(id)}']`).scrollIntoView({
                    behavior: "smooth"
                });
            } else {
                document.querySelector(`[id='${decodeURIComponent(id)}']`).scrollIntoView();
            }
            if (id === "top") {
                history.replaceState(null, null, " ");
            } else {
                history.pushState(null, null, `#${id}`);
            }
        });
    });

</script>
<script>
    var mybutton = document.getElementById("top-link");
    window.onscroll = function () {
        if (document.body.scrollTop > 800 || document.documentElement.scrollTop > 800) {
            mybutton.style.visibility = "visible";
            mybutton.style.opacity = "1";
        } else {
            mybutton.style.visibility = "hidden";
            mybutton.style.opacity = "0";
        }
    };

</script>
<script>
    document.getElementById("theme-toggle").addEventListener("click", () => {
        const html = document.querySelector("html");
        if (html.dataset.theme === "dark") {
            html.dataset.theme = 'light';
            localStorage.setItem("pref-theme", 'light');
        } else {
            html.dataset.theme = 'dark';
            localStorage.setItem("pref-theme", 'dark');
        }
    })

</script>
<script>
    document.querySelectorAll('pre > code').forEach((codeblock) => {
        const container = codeblock.parentNode.parentNode;

        const copybutton = document.createElement('button');
        copybutton.classList.add('copy-code');
        copybutton.innerHTML = 'copy';

        function copyingDone() {
            copybutton.innerHTML = 'copied!';
            setTimeout(() => {
                copybutton.innerHTML = 'copy';
            }, 2000);
        }

        copybutton.addEventListener('click', (cb) => {
            if ('clipboard' in navigator) {
                navigator.clipboard.writeText(codeblock.textContent);
                copyingDone();
                return;
            }

            const range = document.createRange();
            range.selectNodeContents(codeblock);
            const selection = window.getSelection();
            selection.removeAllRanges();
            selection.addRange(range);
            try {
                document.execCommand('copy');
                copyingDone();
            } catch (e) { };
            selection.removeRange(range);
        });

        if (container.classList.contains("highlight")) {
            container.appendChild(copybutton);
        } else if (container.parentNode.firstChild == container) {
            
        } else if (codeblock.parentNode.parentNode.parentNode.parentNode.parentNode.nodeName == "TABLE") {
            
            codeblock.parentNode.parentNode.parentNode.parentNode.parentNode.appendChild(copybutton);
        } else {
            
            codeblock.parentNode.appendChild(copybutton);
        }
    });
</script></body>

</html>
